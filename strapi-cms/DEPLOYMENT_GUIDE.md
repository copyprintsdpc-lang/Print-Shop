# Sri Datta Print Centre - Strapi Cloud Deployment Guide

## ðŸš€ Deployment to Strapi Cloud

### Prerequisites
- GitHub repository with Strapi CMS code
- Supabase database credentials
- Cloudinary account for file storage

### Step 1: Prepare GitHub Repository

1. **Initialize Git Repository** (if not already done):
```bash
cd strapi-cms
git init
git add .
git commit -m "Initial Strapi CMS setup with Supabase and Cloudinary"
```

2. **Create GitHub Repository**:
   - Go to GitHub and create a new repository: `sdpc-cms`
   - Push your code:
```bash
git remote add origin https://github.com/yourusername/sdpc-cms.git
git branch -M main
git push -u origin main
```

### Step 2: Deploy to Strapi Cloud

1. **Go to Strapi Cloud**: https://cloud.strapi.io
2. **Create New Project**:
   - Connect your GitHub account
   - Select the `sdpc-cms` repository
   - Choose the `main` branch

3. **Configure Environment Variables**:
   ```
   DATABASE_HOST=aws-1-ap-south-1.pooler.supabase.com
   DATABASE_PORT=5432
   DATABASE_NAME=postgres
   DATABASE_USERNAME=postgres.duspirkbobrnkathmjbx
   DATABASE_PASSWORD=Hek4jY8lT77Y6kHZ
   DATABASE_SSL=true
   DATABASE_SSL_REJECT_UNAUTHORIZED=false
   
   CLOUDINARY_NAME=your-cloudinary-name
   CLOUDINARY_KEY=your-cloudinary-key
   CLOUDINARY_SECRET=your-cloudinary-secret
   ```

4. **Deploy**: Click "Deploy" and wait for the build to complete

### Step 3: Configure Custom Domain

1. **In Strapi Cloud Dashboard**:
   - Go to "Domains" section
   - Add custom domain: `cms.sdpcprint.com`
   - Follow DNS configuration instructions

### Step 4: Set Up Permissions

1. **Access Admin Panel**: `https://cms.sdpcprint.com/admin`
2. **Create Admin Account**: Set up your first administrator
3. **Configure Public Permissions**:
   - Go to Settings â†’ Users & Permissions Plugin â†’ Roles
   - **Public Role**: Enable `find` and `findOne` for:
     - Categories
     - Products
     - Product Variants
     - Pages
     - Promotions

### Step 5: Test Deployment

1. **Test API Endpoints**:
   - `https://cms.sdpcprint.com/api/categories`
   - `https://cms.sdpcprint.com/api/products`
   - `https://cms.sdpcprint.com/api/product-variants`

2. **Test File Uploads**: Upload a test image through the admin panel

## ðŸ”§ Environment Variables Reference

### Required for Strapi Cloud:
```
DATABASE_HOST=aws-1-ap-south-1.pooler.supabase.com
DATABASE_PORT=5432
DATABASE_NAME=postgres
DATABASE_USERNAME=postgres.duspirkbobrnkathmjbx
DATABASE_PASSWORD=Hek4jY8lT77Y6kHZ
DATABASE_SSL=true
DATABASE_SSL_REJECT_UNAUTHORIZED=false

CLOUDINARY_NAME=your-cloudinary-name
CLOUDINARY_KEY=your-cloudinary-key
CLOUDINARY_SECRET=your-cloudinary-secret
```

### Auto-generated by Strapi Cloud:
- `APP_KEYS`
- `API_TOKEN_SALT`
- `ADMIN_JWT_SECRET`
- `TRANSFER_TOKEN_SALT`
- `JWT_SECRET`

## ðŸ“Š Content Types Available

- **Category**: Product categories
- **Product**: Main products
- **Product Variant**: Size/material/quantity variants
- **Order**: Customer orders
- **Order File**: Uploaded files
- **Page**: CMS pages
- **Promotion**: Coupon codes and offers

## ðŸŽ¯ Next Steps

1. **Populate Data**: Add categories, products, and variants
2. **Configure Frontend**: Update Next.js app to use Strapi Cloud API
3. **Test Complete Flow**: Product selection â†’ Cart â†’ Checkout â†’ Payment
4. **Set Up Monitoring**: Monitor API usage and performance

## ðŸ’° Cost Estimate

- **Strapi Cloud**: ~$29/month (â‚¹2,400)
- **Supabase**: Free tier (upgrade as needed)
- **Cloudinary**: Free 2GB (upgrade as needed)

## ðŸ†˜ Troubleshooting

### Common Issues:
1. **Database Connection**: Verify Supabase credentials
2. **File Uploads**: Check Cloudinary configuration
3. **API Access**: Verify public permissions are set
4. **Custom Domain**: Check DNS configuration

### Support:
- Strapi Cloud Documentation: https://docs.strapi.io/cloud/
- Supabase Documentation: https://supabase.com/docs
- Cloudinary Documentation: https://cloudinary.com/documentation
